
[
    {
        "id": "pbc_3905696460",
        "listRule": "(@request.auth.id != \"\") && (towho ~ @request.auth.id)",
        "viewRule": "(@request.auth.id != \"\") && (towho ~ @request.auth.id)",
        "createRule": "(@request.auth.id != \"\")",
        "updateRule": "(@request.auth.id != \"\") && ((towho ~ @request.auth.id) || (bywho_if_student = @request.auth.id) || (bywho_if_teacher = @request.auth.id))",
        "deleteRule": "(@request.auth.id != \"\") && ((towho ~ @request.auth.id) || (bywho_if_student = @request.auth.id) || (bywho_if_teacher = @request.auth.id))",
        "name": "notification",
        "type": "base",
        "system": false,
        "schema": [
            {
                "id": "text3208210256",
                "name": "id",
                "type": "text",
                "system": true, "required": true, "presentable": false,
                "options": { "min": 15, "max": 15, "pattern": "^[a-z0-9]+$", "autogeneratePattern": "[a-z0-9]{15}" }
            },
            {
                "id": "relation309387157",
                "name": "bywho_if_teacher",
                "type": "relation",
                "system": false, "required": false, "presentable": true,
                "options": { "collectionId": "pbc_2504364897", "cascadeDelete": false, "maxSelect": 1, "displayFields": ["name", "profile_picture", "avatarUrl", "collectionId", "collectionName"] }
            },
            {
                "id": "relation3966018284",
                "name": "bywho_if_student",
                "type": "relation",
                "system": false, "required": false, "presentable": true,
                "options": { "collectionId": "pbc_1377172174", "cascadeDelete": false, "maxSelect": 1, "displayFields": ["name", "avatar", "avatarUrl", "collectionId", "collectionName"] }
            },
            {
                "id": "relation2292364788",
                "name": "towho",
                "type": "relation",
                "system": false, "required": true, "presentable": false,
                "options": { "collectionId": "pbc_1377172174", "cascadeDelete": false, "minSelect": 1, "maxSelect": 999, "displayFields": null }
            },
            {
                "id": "text3065852031",
                "name": "message",
                "type": "text",
                "system": false, "required": true, "presentable": true,
                "options": { "min": 1, "max": 500, "pattern": "" }
            },
            {
                "id": "select_notif_type",
                "name": "type",
                "type": "select",
                "system": false, "required": false, "presentable": true,
                "options": { "maxSelect": 1, "values": ["general", "challenge_invite", "challenge_accepted", "challenge_rejected", "test_assigned"] }
            },
            {
                "id": "relation_related_challenge",
                "name": "related_challenge_id",
                "type": "relation",
                "system": false, "required": false, "presentable": false,
                "options": { "collectionId": "pbc_1771122963", "cascadeDelete": true, "maxSelect": 1, "displayFields": null }
            },
            {
                "id": "relation_related_invite",
                "name": "related_invite_id",
                "type": "relation",
                "system": false, "required": false, "presentable": false,
                "options": { "collectionId": "pbc_1166489096", "cascadeDelete": true, "maxSelect": 1, "displayFields": null }
            },
            {
                "id": "bool2756839960",
                "name": "seen",
                "type": "bool",
                "system": false, "required": false, "presentable": false, "options": {}
            },
            {
                "id": "bool3946532403",
                "name": "deleted",
                "type": "bool",
                "system": false, "required": false, "presentable": false, "options": {}
            },
            {
                "id": "bool2086131741",
                "name": "approved",
                "type": "bool",
                "system": false, "required": false, "presentable": false, "options": {}
            },
            {
                "id": "autodate2990389176",
                "name": "created",
                "type": "date",
                "system": true, "required": false, "presentable": true, "options": {"min": "", "max": ""}
            },
            {
                "id": "autodate3332085495",
                "name": "updated",
                "type": "date",
                "system": true, "required": false, "presentable": false, "options": {"min": "", "max": ""}
            }
        ],
        "indexes": [
            "CREATE INDEX idx_notification_towho ON notification (towho)",
            "CREATE INDEX idx_notification_created ON notification (created DESC)"
        ]
    }
]
