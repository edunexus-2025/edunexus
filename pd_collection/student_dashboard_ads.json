
[
    {
        "id": "pbc_student_ads_col",
        "listRule": "",
        "viewRule": "",
        "createRule": "@request.auth.id != \"\" && @request.auth.role = \"Admin\"",
        "updateRule": "@request.auth.id != \"\" && @request.auth.role = \"Admin\"",
        "deleteRule": "@request.auth.id != \"\" && @request.auth.role = \"Admin\"",
        "name": "student_dashboard_ads",
        "type": "base",
        "system": false,
        "schema": [
            {
                "id": "text_ad_id",
                "name": "id",
                "type": "text",
                "system": true,
                "required": true,
                "presentable": false,
                "options": { "min": 15, "max": 15, "pattern": "^[a-z0-9]+$", "autogeneratePattern": "[a-z0-9]{15}" }
            },
            {
                "id": "text_ad_name",
                "name": "ad_name",
                "type": "text",
                "system": false,
                "required": true,
                "presentable": true,
                "options": { "min": 1, "max": 100, "pattern": "" }
            },
            {
                "id": "date_ad_expiry",
                "name": "ad_expiry_date",
                "type": "date",
                "system": false,
                "required": false,
                "presentable": true,
                "options": { "min": "", "max": "" }
            },
            {
                "id": "file_ad_image",
                "name": "ad_image",
                "type": "file",
                "system": false,
                "required": true,
                "presentable": true,
                "options": { "maxSelect": 1, "maxSize": 5242880, "mimeTypes": ["image/jpeg", "image/png", "image/webp", "image/gif"], "thumbs": ["300x100", "600x200"], "protected": false }
            },
            {
                "id": "url_ad_button_link",
                "name": "add_button",
                "type": "url",
                "system": false,
                "required": false,
                "presentable": true,
                "options": { "exceptDomains": null, "onlyDomains": null }
            },
            {
                "id": "text_ad_button_name",
                "name": "ad_button_name",
                "type": "text",
                "system": false,
                "required": false,
                "presentable": true,
                "options": { "min": 1, "max": 50, "pattern": "" }
            },
            {
                "id": "text_ad_description",
                "name": "ad_description",
                "type": "text",
                "system": false,
                "required": true,
                "presentable": true,
                "options": { "min": 10, "max": 250, "pattern": "" }
            },
            {
                "id": "json_ad_bg_color",
                "name": "background_colour",
                "type": "json",
                "system": false,
                "required": false,
                "presentable": true,
                "options": { "maxSize": 1024 }
            },
            {
                "id": "autodate_ad_created",
                "name": "created",
                "type": "date", 
                "system": true,
                "required": false,
                "options": { "min": "", "max": "" }
            },
            {
                "id": "autodate_ad_updated",
                "name": "updated",
                "type": "date", 
                "system": true,
                "required": false,
                "options": { "min": "", "max": "" }
            }
        ],
        "indexes": [
            "CREATE INDEX idx_ad_expiry ON student_dashboard_ads (ad_expiry_date)"
        ]
    }
]
